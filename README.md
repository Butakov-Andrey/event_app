# Event App
Бэкенд для сервиса событий
### Функционал для администраторов системы:
* авторизация в системе
* добавление/изменение/удаление событий
* возможность создания двух видов событий
* получение списка событий, заявок и откликов в личном кабинете
* получение уведомления на почту об оставленном отклике или заявке
### Функционал для пользователей системы:
* возможность отправки заявки на событие
* возможность отправки отклика (с возможностью прикрепить файл) на событие
### Дополнительные требования:
* атрибуты события:
  * дата размещения
  * дата проведения
* атрибуты заявки или отклика:
  * пользователь, совершивший действие
  * дата размещения
  * событие, где разместили заявку или отклик
* возможность фильтрации списка событий по типу
* возможность сортировки списка заявок по дате
## Использованные технологии:
* Django
* Django REST framework
* PostgreSQL
## Установка и запуск:
Перед установкой требуется создать файл с локальными настройками 'local_settings.py' в котором указываются данные (поместить его в папку 'config'):
* для подключения к БД PostgreSQL (user, password, host, port)
* для отправки уведомлений о заявках и откликах (аккаунт Gmail, пароль). Инструкция для настройки аккаунта Gmail (https://www.sitepoint.com/django-send-email/)
1. Клонируем репозиторий и заходим в директорию:
  ```
  ...\> git clone https://github.com/Butakov-Andrey/event_app.git
  ...\> cd event_app
  ```
2. Создаем виртуальное окружение и активируем его:
  ```
  ...\> python -m venv env
  ...\> env\scripts\activate
  ```
3. Устанавливаем зависимости из requirements.txt:
  ```
  ...\> pip install -r requirements.txt
  ```
4. Создаем миграции:
  ```
  ...\> manage.py makemigrations polls
  ...\> manage.py migrate
  ```
5. Создаем суперпользователя:
Указываем реальный почтовый ящик, т.к. на него будут приходить уведомления о заявках и откликах
  ```
  ...\> manage.py createsuperuser
  Username (leave blank to use 'admin'): admin
  Email address: admin@admin.com
  Password: ********
  Password (again): ********
  Superuser created successfully.
  ```
6. Запускаем приложение:
  ```
  ...\> manage.py runserver
  ```
Приложение доступно по адресу http://127.0.0.1:8000/
## Использование:
Документация API:
* Swagger - http://127.0.0.1:8000/swagger/
* Redoc - http://127.0.0.1:8000/redoc/
### Создание пользователя:
* URL - http://127.0.0.1:8000/api/dj-rest-auth/registration/
### Авторизация пользователя:
* URL - http://127.0.0.1:8000/api/dj-rest-auth/login/
### Создание события:
  Доступно только администраторам
  Доступна фильтрация по типу события
* URL - http://127.0.0.1:8000/api/events/
### Редактирование события:
  Доступно только администраторам
* URL - http://127.0.0.1:8000/api/events/[event_id]/
### Создание заявки:
  Только для событий с типом '1' (при выборе события с типом '2' получаем ошибку)
  Доступна сортировка по дате создания заявки
* URL - http://127.0.0.1:8000/api/application/
### Создание отклика:
  Только для событий с типом '2' (при выборе события с типом '1' получаем ошибку)
* URL - http://127.0.0.1:8000/api/respond/
### Личный кабинет:
  Администратор видит события, которые он создал, заявки и отклики к ним
* URL - http://127.0.0.1:8000/api/account/
### Запуск тестов:
  ```
  ...\> manage.py test
  ```
